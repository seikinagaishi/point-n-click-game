CREATE TABLE tbuser (
	idUser int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	username varchar(50) NOT NULL,
	password varchar(50) NOT NULL
);

CREATE TABLE inventory (
	idInventory int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	idUser int NOT NULL,
	wood int,
	bone int,
	stone int,
	bronze int,
	iron int,
	silver int,
	FOREIGN KEY userInventory (idUser) REFERENCES tbuser (idUser)
);

CREATE TABLE item (
	idItem int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50),
	descr text
);

Insert into item VALUES 
	(1, 'wood', 'used to craft poor equipments'),
	(2, 'bone', 'used to craft usable equipments'),
	(3, 'stone', 'used to craft equipments'),
	(4, 'bronze', 'used to craft better equipments'),
	(5, 'iron', 'used to craft good equipments'),
	(6, 'silver', 'used to craft awesome equipments');

CREATE TABLE equipment (
	idEquip int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	idUser int NOT NULL,
	idPickaxe int,
	idSword int,
	idAxe int,
	FOREIGN KEY userEquip (idUser) REFERENCES tbuser (idUser)
);

CREATE TABLE friendship (
	idFriendship int NOT NULL AUTO_INCREMENT PRIMARY KEY,
	idUser int NOT NULL,
	idFriend int NOT NULL,
	FOREIGN KEY friendA (idUser) REFERENCES tbuser (idUser),
	FOREIGN KEY friendB (idFriend) REFERENCES tbuser (idUser)
);

CREATE TABLE skill (
	idSkill int NOT NULL AUTO_INCREMENT PRIMARY KEY,
	name varchar(50) NOT NULL,
	descr text NOT NULL,
	pic varchar(90) NOT NULL,
	cooldown int NOT NULL
);

INSERT INTO skill VALUES
	(1, 'Time Fraction', 'Double click for 2min', 'img/skill/sk1.png', 360),
	(2, 'Tsubamegaeshi', '10 instant clicks', 'img/skill/sk2.png', 60);

CREATE TABLE userSkill (
	idUserSkill int NOT NULL AUTO_INCREMENT PRIMARY KEY,
	idSkill int NOT NULL,
	idUser int NOT NULL,
	FOREIGN KEY skillObtained (idSkill) REFERENCES skill (idSkill),
	FOREIGN KEY userSkilled (idUser) REFERENCES tbuser (idUser)
);

CREATE TABLE shopItem (
	idShopItem int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50) NOT NULL,
	descr text NOT NULL,
	pic varchar(90) NOT NULL,
	price float NOT NULL
);

CREATE TABLE itemType (
	idItemType int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50) NOT NULL
);

INSERT INTO itemType VALUES
	(1, 'weapon'),
	(2, 'axe'),
	(3, 'pickaxe');

CREATE TABLE craftableItem (
	idCraftableItem int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50) NOT NULL,
	descr text NOT NULL,
	pic varchar(90) NOT NULL,
	idMaterial int NOT NULL,
	amountNeeded int NOT NULL,
	woodNeeded int NOT NULL,
	damage int NOT NULL,
	type int NOT NULL,
	FOREIGN KEY craftingMaterial (idMaterial) REFERENCES item (idItem),
	FOREIGN KEY craftType (type) REFERENCES itemType (idItemType)
);

INSERT INTO craftableItem VALUES
	(1, 'bonePickaxe', "This somehow breaks stones", 'img/pickaxe1.png', 2, 2, 0, 1, 3),
	(2, 'stoneAxe', 'Something you can use to finally cut trees', 'img/axe1.png', 3, 3, 3, 1, 3),
	(3, 'stonePickaxe', 'A pickaxe', 'img/pickaxe2.png', 3, 5, 3, 2, 3),
	(4, 'stoneSword', 'A sword', 'img/weapon2.png', 3, 8, 5, 2, 1),
	(5, 'bronzePickaxe', 'A useful pickaxe', 'img/pickaxe3.png', 4, 10, 5, 3, 3),
	(6, 'ironAxe', 'A real and efficient axe', 'img/axe2.png', 5, 10, 5, 3, 2),
	(7, 'ironPickaxe', 'A real and efficient pickaxe', 'img/pickaxe4.png', 5, 15, 5, 4, 3),
	(8, 'ironSword', 'A real and efficient sword', 'img/weapon3.png', 5, 15, 7, 3, 1),
	(9, 'silverAxe', 'A poweful tool capable of cutting trees easily', 'img/axe3.png', 6, 10, 7, 5, 2),
	(10, 'silverSword', 'The legendary sword known as The Dragon Slayer', 'img/weapon4.png', 6, 15, 10, 7, 1),
	(11, 'stick', 'A stick', 'img/weapon1.png', 0, 0, 0, 1, 1);

CREATE TABLE mobType (
	idType int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50)	
);

INSERT INTO mobType VALUES
	(1, 'tree'),
	(2, 'ore'),
	(3, 'monster');

CREATE TABLE mob (
	idMob int NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name varchar(50) NOT NULL,
	type int NOT NULL,
	hp int NOT NULL,
	drops int,
	dropAmount int,
	FOREIGN KEY itemDropped (drops) REFERENCES item (idItem),
	FOREIGN KEY enemyType (type) REFERENCES mobType (idType)
);

INSERT INTO mob VALUES
	(1, 'Skeleton', 3, 10, 2, 1),
	(2, 'Tree', 1, 15, 1, 1),
	(3, 'Rock', 2, 10, 3, 1),
	(4, 'Bronze Deposit', 2, 30, 4, 1),
	(5, 'Iron Deposit', 2, 75, 5, 2),
	(6, 'Silver Deposit', 2, 200, 6, 2),
	(7, 'Giant Tree', 1, 50, 1, 3),
	(8, 'Big Skeleton', 2, 150, 2, 5);